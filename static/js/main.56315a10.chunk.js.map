{"version":3,"sources":["api/index.js","components/Style.js","components/TableStatuses.js","components/App.js","index.js"],"names":["api","axios","create","getStatuses","a","get","response","Input","styled","input","Container","div","Info","span","initState","arrStatuses","allStatusesCache","arrNameStatuses","filteredInfo","sortedInfo","value","valueInfo","TableStatuses","state","loadStatuses","allStatuses","data","map","item","id","_","uniqueId","nameStatuses","name","setState","console","log","dataRequest","key","used","sites","type","status","inputChange","e","preventDefault","target","res","filter","toLowerCase","search","length","handleChange","pagination","filters","sorter","this","columns","title","dataIndex","filteredValue","onFilter","record","includes","b","sortOrder","columnKey","order","ellipsis","placeholder","onChange","dataSource","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56315a10.chunk.js","sourcesContent":["import axios from 'axios';\r\nexport const api = axios.create();\r\n\r\nconst baseUrl = 'http://localhost:3000/';\r\n\r\nconst getStatuses= async () => {\r\n  const response = await api.get(`${baseUrl}data`);\r\n  return response;\r\n};\r\n\r\nexport default getStatuses;\r\n\r\n","import styled from 'styled-components';\r\n\r\nexport const Input = styled.input`\r\n  width: 1050px;\r\n`\r\nexport const Container = styled.div`\r\n  margin: 0 auto;\r\n  width: 1050px;\r\n`\r\nexport const Info = styled.span`\r\n  color: red;\r\n  font-size: 17px;\r\n`;","import React from 'react';\r\nimport { Table } from 'antd';\r\nimport _ from 'lodash';\r\nimport 'antd/dist/antd.css';\r\nimport getStatuses from '../api/index';\r\nimport {Input, Container, Info} from './Style';\r\n\r\nconst initState = {\r\n  arrStatuses: [],\r\n  allStatusesCache: [],\r\n  arrNameStatuses: [],\r\n  filteredInfo: null,\r\n  sortedInfo: null,\r\n  value: '',\r\n  valueInfo: '',\r\n}\r\n\r\nexport default class TableStatuses extends React.Component {\r\n    state = initState;\r\n\r\n    componentDidMount() {\r\n      this.loadStatuses();\r\n    }\r\n    \r\n    loadStatuses = async () => {\r\n      const { arrStatuses } = this.state;\r\n      try {\r\n        const response = await getStatuses();\r\n\r\n        const allStatuses = response.data.map((item) => {\r\n          return {...item, id: _.uniqueId()} \r\n        });\r\n\r\n        const nameStatuses = response.data.map((item) => {\r\n          return item.name;\r\n        })\r\n\r\n        this.setState({\r\n          arrStatuses: [...arrStatuses, ...allStatuses],\r\n          allStatusesCache: [...allStatuses],\r\n          arrNameStatuses: [...nameStatuses]\r\n        });\r\n        \r\n      } catch (event) {\r\n        console.log(event)\r\n      }\r\n    }\r\n\r\n    dataRequest = () => {\r\n      const { arrStatuses } = this.state; \r\n      const res = arrStatuses.map((item) => {\r\n        return {\r\n          key: _.uniqueId(),\r\n          name: item.name,\r\n          used: item.sites,\r\n          type: item.type,\r\n          status: item.status,\r\n        }\r\n      });\r\n      return res;\r\n    }\r\n\r\n    inputChange = (e) => {\r\n      e.preventDefault();\r\n      const { arrStatuses, allStatusesCache } = this.state;\r\n      const { value } = e.target;\r\n      this.setState({ value });\r\n      const res = arrStatuses.filter((item) => {\r\n        return item.name.toLowerCase().search(value.toLowerCase())!== -1;\r\n      })\r\n\r\n      if (!res.length) {\r\n        this.setState({\r\n          valueInfo: 'Ничего не найдено :(',\r\n        })\r\n      } else {\r\n        this.setState({\r\n          valueInfo: '',\r\n        })\r\n      }\r\n\r\n      this.setState({\r\n        arrStatuses: [...res],\r\n      })\r\n\r\n      if (!value) {\r\n        this.setState({\r\n          arrStatuses: [...allStatusesCache],\r\n          valueInfo: '',\r\n        })\r\n      }\r\n    }    \r\n\r\n    //------------\r\n    handleChange = (pagination, filters, sorter) => {\r\n      this.setState({\r\n        filteredInfo: filters,\r\n        sortedInfo: sorter,\r\n      });\r\n    };\r\n  \r\n    render() {\r\n        let { sortedInfo, filteredInfo, value, valueInfo } = this.state;\r\n        sortedInfo = sortedInfo || {};\r\n        filteredInfo = filteredInfo || {};\r\n\r\n        const columns = [\r\n          {\r\n            title: 'Tool name',\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n            filteredValue: filteredInfo.name || null,\r\n            onFilter: (value, record) => record.name.includes(value),\r\n            sorter: (a, b) => {\r\n              return a.name.length - b.name.length\r\n            },\r\n            sortOrder: sortedInfo.columnKey === 'name' && sortedInfo.order,\r\n            ellipsis: true,\r\n          },\r\n          {\r\n            title: 'Used on',\r\n            dataIndex: 'used',\r\n            key: 'used',\r\n            sorter: (a, b) => a.used - b.used,\r\n            sortOrder: sortedInfo.columnKey === 'used' && sortedInfo.order,\r\n            ellipsis: true,\r\n          },\r\n          {\r\n            title: 'Type',\r\n            dataIndex: 'type',\r\n            key: 'type',\r\n            filteredValue: filteredInfo.type || null,\r\n            onFilter: (value, record) => record.type.includes(value),\r\n            sorter: (a, b) => a.type.length - b.type.length,\r\n            sortOrder: sortedInfo.columnKey === 'type' && sortedInfo.order,\r\n            ellipsis: true,\r\n          },\r\n          {\r\n            title: 'Status',\r\n            dataIndex: 'status',\r\n            key: 'status',\r\n            filteredValue: filteredInfo.status || null,\r\n            onFilter: (value, record) => record.status.includes(value),\r\n            sorter: (a, b) => {\r\n              return a.status.length - b.status.length\r\n            },\r\n            sortOrder: sortedInfo.columnKey === 'status' && sortedInfo.order,\r\n            ellipsis: true,\r\n          },\r\n        ];\r\n        return (\r\n          <>\r\n            <Container>\r\n              <form>\r\n                <Input type='text' value={value} placeholder=\"Enter the status\" onChange={this.inputChange}/>\r\n                <Table pagination={false} columns={columns} dataSource={this.dataRequest()} onChange={this.handleChange}></Table>\r\n                <Info>{valueInfo}</Info>\r\n              </form>\r\n            </Container>\r\n          </>\r\n        );\r\n      }\r\n    }","import TableStatuses from './TableStatuses';\n\nfunction App() {\n  return (\n    <div>\n      <br />\n      <TableStatuses />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}